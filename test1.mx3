// Cell size
c := 10e-9
cz := 25e-9

SetGridsize(100,100,4)
SetCellsize(c,c,cz)

// Permalloy parameters
Msat  = 800e3
Aex   = 13e-12
alpha = 0.1
EdgeSmooth = 8

// magnet definitions
//top_island := universe().sub(universe())
//bottom_island := universe().sub(universe())
system := universe().sub(universe())

rect1 := cuboid(400e-9,100e-9,cz)
top := rect1.transl(0,200e-9,0)
bottom := rect1.transl(0,-200e-9,0)
system = system.add(top).add(bottom)

setgeom(system)
snapshot(geom)

//m = uniform(1, .1, 0)
//relax()
//save(m)    // relaxed state

//autosave(m, 200e-12)
//tableautosave(10e-12)

//B_ext = vector(-24.6E-3, 4.3E-3, 0)
//run(1e-9)
